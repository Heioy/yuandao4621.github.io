### 浅层copy 和 深层copy

#### 前言

Python的赋值语句并不会复制对象，而是创建了一个新的`变量和对象的绑定关系`。对于可变对象或包含可变对象的集合，有时生成 **副本**(我理解这里的副本即为拷贝后的对象)用于改变操作，而不必改变原始对象。

#### 摘要

* `copy.copy(x)`  返回 `x` 的浅层复制
* `cpoy.deepcopy(x)` 返回 `x` 的深层复制

浅层复制 与 深层复制 的区别仅与 **复合对象(即包含列表或类的实例等其他对象的对象)** 相关：

* `浅层复制`：构造一个新的复合对象，然后将原始对象的`引用`插入其中
* `深层复制`：构造一个新的复合对象，然后`递归`地将原始对象的`副本`插入其中

以下以对象的内存地址为说明

```python
# 创建 一个对象，分别使用 copy 和 deepcopy 进行复制
>>> name = ['admin', 'cloud', ['plus', 'control']]
>>> low_name = copy.copy(name)
>>> deep_name = copy.deepcopy(name)

# 查看对象的内存地址，内存地址不同说明是3个不同的对象
>>> id(name)
140257127243440
>>> id(low_name)
140257127233008
>>> id(deep_name)
140257127246256

# 修改对象name中的一个值，通过 copy 创建的对象的值也随之发生变化；通过 deepcopy 创建的对象值则没有发生变化
>>> name[2][0] = 'fusion'
>>> name
['admin', 'cloud', ['fusion', 'control']]
>>> low_name
['admin', 'cloud', ['fusion', 'control']]
>>> deep_name
['admin', 'cloud', ['plus', 'control']]
```

对于结构简单的数据类型来说，`浅复制` 和 `深复制`没有区别，对于原始对象的修改同样会造成复制后对象的改变；对于结构复杂的数据类型(`嵌套列表/嵌套字典`)来说，通过`copy.copy()`进行 **浅复制** ，复制的只是外层的对象，内部嵌套的的子对象并没有从原始对象中`独立`出来，即对嵌套列表中的子元素进行修改，`copy.copy()` 创建的对象的值也会发生变化，这就是区别于`深复制`的`递归复制`原则。

